# üõ†Ô∏è Software OSCAR_P01A01

Welcome to the **Software_OSCAR_P01A01** repository, which implements
the complete software stack for the **OSCAR_P01A01** effects pedal.\
üëâ https://github.com/DADDesign-Projects/OSCAR_P01A01

This project is part of the **DADDesign-Projects** ecosystem, built on
the **FORGE** framework and supported by dedicated utilities such as the
QSPI Flasher Client and the TrueType-to-Bitmap converter.

## üìö Overview

By relying on the **FORGE** framework, the software handles all
low-level hardware configuration and management required by the OSCAR
pedal:\
**Clocks, GPIO, SDRAM, QSPI Flash, Audio CODEC, display, switches,
encoder, USB, MIDI**, and more.

The project is built using **STM32CubeIDE** from STMicroelectronics:\
üëâ https://www.st.com/en/development-tools/stm32cubeide.html

## üöÄ Getting Started

1. Clone the repository

``` bash
git clone --recurse-submodules https://github.com/DADDesign-Projects/Software_OSCAR_P01A01
```
Load the files from the Resource directory into the external flash drive. Use the QSPI Flasher utility:
https://github.com/DADDesign-Projects/OSCAR_P01_FlasherClient

2. Open in STM32CubeIDE
Start STM32CubeIDE  
Import ‚Üí Existing Projects into Workspace ‚Üí Select the cloned folder

3. Build & Debug
- Use an ST-LINK or compatible debug probe
- Or flash via USB DFU: hold BOOT + RESET, release RESET then BOOT ‚Üí pedal enters DFU mode

## ‚öôÔ∏è Project Structure

Modifications applied to CubeMX-generated files are marked with the
**`DAD`** comment.

### Core/
Core application code, almost entirely generated by CubeMX.\
Includes a redirection hook to **HardwareAndCo** after base hardware
initialization.

### DAD_FORGE/
the OSCAR software stack is built upon the **DAD_FORGE** framework
(Framework for Open and Resourceful Guitar Effects):\
üëâ https://github.com/DADDesign-Projects/DAD_FORGE

FORGE provides all the abstraction layers, modules, and real‚Äëtime audio
structures needed for embedded digital audio systems.

### Drivers/
CubeMX‚Äëgenerated hardware drivers.\
‚û°Ô∏è **No modifications** done here.

### HardwareAndCo/
All hardware-specific configuration and **FORGE module instantiation**
required for OSCAR_P01A01.

### Middlewares/
ST USB middleware: **DFU, MIDI, CDC**, and USB Device stack handling.

### USB_DEVICE/
USB Device-specific code, including a **custom callback in `usbd_cdc_if.c`** for USB data reception.

### üõ†Ô∏è CubeMX Configuration
-   **Software_OSCAR_P01A01.ioc**\
    Main CubeMX file: clocks, peripherals, pins, middlewares, hardware
    configuration.
-   To adapt CubeMX output for a `main.cpp` C++ project:
  -   **c2cpp.bat** ‚Üí Renames `main.c` ‚Üí `main.cpp`
  -   **cpp2c.bat** ‚Üí Renames `main.cpp` ‚Üí `main.c`


### Linker Files
-   **STM32H743IITX_FLASH.ld**
    Memory layout when running from **internal Flash** (Release mode)

-   **STM32H743IITX_RAM.ld**
    Memory layout when running from **RAM** (Debug mode)
    
### Ressources/
Project visual assets: **bitmaps, fonts, images** for the display.
Ressources files must be written to the **external QSPI Flash memory** using the flasher utility:
(https://github.com/DADDesign-Projects/OSCAR_P01_FlasherClient)

## üìÑ License
This project is licensed under the Apache 2.0 License (https://opensource.org/licenses/Apache-2.0).

## üîó Related Projects
- OSCAR_P01A01: https://github.com/DADDesign-Projects/OSCAR_P01A01
- DAD_FORGE: https://github.com/DADDesign-Projects/DAD_FORGE
- OSCAR_P01_FlasherClient: https://github.com/DADDesign-Projects/OSCAR_P01_FlasherClient
- TrueType-to-Bitmap-Converter: https://github.com/DADDesign-Projects/TrueType-to-Bitmap-Converter
- Daisy_QSPI_Flasher_Server: https://github.com/DADDesign-Projects/Daisy_QSPI_Flasher_Server
  
## üì¨ Contact
Feel free to contact me for any questions, feedback, improvement suggestions, or collaboration proposals related to the FORGE framework or the OSCAR hardware platform. I am always open to discussion and community contributions (daddesign.projects@gmail.com).

# Enjoy developing for OSCAR_P01A01! üöÄ
